{% extends 'base.html.twig' %}

{% block title %}
	Liste des Avis
{% endblock %}

{% block body %}

	{# Affichage des messages flash #}
	{% for message in app.flashes('success') %}
		<div class="alert alert-success">
			{{ message }}
		</div>
	{% endfor %}

	<div class="container my-5">
		<h1 class="text-center text-success mb-4">Liste des Avis</h1>

		<div class="row">
			{% for avis in aviss %}
				<div class="col-md-4 mb-4">
					<div class="card shadow-lg border-0 h-100 d-flex flex-column">
						<div class="card-body d-flex flex-column flex-grow-1 text-center">
							<h5 class="card-title text-success">{{ avis.sujetAvis }}</h5>
							<p class="card-text">
								<strong>Contenu :</strong>
								{{ avis.contenuAvis }}</p>
							<p class="card-text">
								<strong>Note :</strong>
								{{ avis.noteAvis }}/10</p>
							<p class="card-text">
								<strong>Date :</strong>
								{{ avis.dateAvis|date('d-m-Y H:i') }}</p>
							<p class="card-text">
								<strong>Par :</strong>
								{{ avis.emailAvis }}</p>
							<div class="mt-auto">
								<a href="{{ path('editAvis', {'id': avis.id}) }}" class="btn btn-warning btn-sm">Modifier</a>
								<form method="post" action="{{ path('deleteAvis', { id: avis.id }) }}" class="d-inline">
									<button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Êtes-vous sûr de vouloir supprimer cet avis ?');">
										Supprimer
									</button>
								</form>
							</div>
						</div>
					</div>
				</div>
			{% else %}
				<div class="col-12 text-center text-muted">
					<p>Aucun avis trouvé.</p>
				</div>
			{% endfor %}
		</div>
	</div>
{% endblock %}